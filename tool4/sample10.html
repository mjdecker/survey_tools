<!DOCTYPE html><html lang="en"><head><meta charset="utf8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>GumTree</title><link type="text/css" href="res/web/bootstrap.min.css" rel="stylesheet"/><link type="text/css" href="res/web/gumtree.css" rel="stylesheet"/></head><body><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="btn-toolbar pull-right"><div class="btn-group"><a class="btn btn-default btn-xs" id="legend" href="#" data-toggle="popover" data-html="true" data-placement="bottom" data-content="<span class=&quot;del&quot;>&nbsp;&nbsp;</span> deleted<br><span class=&quot;add&quot;>&nbsp;&nbsp;</span> added<br><span class=&quot;mv&quot;>&nbsp;&nbsp;</span> moved<br><span class=&quot;upd&quot;>&nbsp;&nbsp;</span> updated<br>" data-original-title="Legend" title="Legend" role="button">Legend</a><a class="btn btn-default btn-xs" id="shortcuts" href="#" data-toggle="popover" data-html="true" data-placement="bottom" data-content="<b>q</b> quit<br><b>l</b> list<br><b>n</b> next<br><b>t</b> top<br><b>b</b> bottom" data-original-title="Shortcuts" title="Shortcuts" role="button">Shortcuts</a></div><div class="btn-group"><a class="btn btn-default btn-xs btn-danger" href="/quit">Quit</a></div></div></div></div><div class="row"><div class="col-lg-6 max-height"><h5>original.java</h5><pre class="pre max-height">static class <span class="marker" id="mapping-1"></span><span class="token upd" id="move-src-1" data-title="TypeDeclaration/SimpleName">Expi<span class="cupd">rationSpec</span></span> {
  <span class="marker" id="mapping-2"></span><span class="token del" data-title="FieldDeclaration/MarkerAnnotation">@Nullable</span>
  private final <span class="marker" id="mapping-3"></span><span class="token del" data-title="FieldDeclaration/SimpleType">Long</span> <span class="marker" id="mapping-4"></span><span class="token upd" id="move-src-2" data-title="VariableDeclarationFragment/SimpleName">expi<span class="cupd">r</span>eAf<span class="cupd">t</span>erAccessMillis</span>;
  <span class="marker" id="mapping-5"></span><span class="token del" data-title="FieldDeclaration/MarkerAnnotation">@Nullable</span>
  private final <span class="marker" id="mapping-6"></span><span class="token upd" id="move-src-3" data-title="FieldDeclaration/SimpleType"><span class="marker" id="mapping-7"></span><span class="token upd" id="move-src-4" data-title="SimpleType/SimpleName">Long</span></span> <span class="marker" id="mapping-8"></span><span class="token upd" id="move-src-5" data-title="VariableDeclarationFragment/SimpleName">exp<span class="cupd">i</span>reAfterWriteMillis</span>;

  private <span class="marker" id="mapping-9"></span><span class="token upd" id="move-src-6" data-title="MethodDeclaration/SimpleName">Expi<span class="cupd">rationSpec</span></span>(<span class="marker" id="mapping-10"></span><span class="token del" data-title="SingleVariableDeclaration/SimpleType">Long</span> <span class="marker" id="mapping-11"></span><span class="token del" data-title="SingleVariableDeclaration/SimpleName">expireAfterAccessMillis</span>, <span class="marker" id="mapping-12"></span><span class="token del" data-title="MethodDeclaration/SingleVariableDeclaration">Long expireAfterWriteMillis</span>) {
    <span class="marker" id="mapping-13"></span><span class="token del" data-title="Block/ExpressionStatement">Preconditions.checkArgument(
        expireAfterAccessMillis == null || expireAfterWriteMillis == null);</span>
    this.<span class="marker" id="mapping-14"></span><span class="token upd" id="move-src-7" data-title="FieldAccess/SimpleName">expi<span class="cupd">r</span>eAf<span class="cupd">t</span>erAccessMillis</span> = <span class="marker" id="mapping-15"></span><span class="token upd" id="move-src-8" data-title="Assignment/SimpleName">expi<span class="cupd">r</span>eAf<span class="cupd">t</span>erAccessMillis</span>;
    this.<span class="marker" id="mapping-16"></span><span class="token upd" id="move-src-9" data-title="FieldAccess/SimpleName">exp<span class="cupd">i</span>reAfterWriteMillis</span> = <span class="marker" id="mapping-17"></span><span class="token upd" id="move-src-10" data-title="Assignment/SimpleName">exp<span class="cupd">i</span>reAfterWriteMillis</span>;
  }

  public static <span class="marker" id="mapping-18"></span><span class="token upd" id="move-src-11" data-title="MethodDeclaration/SimpleType"><span class="marker" id="mapping-19"></span><span class="token upd" id="move-src-12" data-title="SimpleType/SimpleName">Expi<span class="cupd"><span class="cupd">rationSpec</span></span></span></span> <span class="marker" id="mapping-20"></span><span class="token upd" id="move-src-13" data-title="MethodDeclaration/SimpleName">afterAccess</span>(long <span class="marker" id="mapping-21"></span><span class="token upd" id="move-src-14" data-title="SingleVariableDeclaration/SimpleName"><span class="cupd">a</span>fterAccess</span>, TimeUnit unit) {
    return new <span class="marker" id="mapping-22"></span><span class="token upd" id="move-src-15" data-title="ClassInstanceCreation/SimpleType"><span class="marker" id="mapping-23"></span><span class="token upd" id="move-src-16" data-title="SimpleType/SimpleName">Expi<span class="cupd"><span class="cupd">rationSpec</span></span></span></span>(<span class="marker" id="mapping-24"></span><span class="token del" data-title="ClassInstanceCreation/MethodInvocation">unit.toMillis(afterAccess)</span>, <span class="marker" id="mapping-25"></span><span class="token del" data-title="ClassInstanceCreation/NullLiteral">null</span>);
  }

  <span class="marker" id="mapping-26"></span><span class="token del" data-title="TypeDeclaration/MethodDeclaration">public static ExpirationSpec afterWrite(long afterWrite, <span class="marker" id="mapping-27"></span><span class="token mv" id="move-src-17" data-title="MethodDeclaration/SingleVariableDeclaration">TimeUnit unit</span>) {
    return new ExpirationSpec(null, unit.toMillis(afterWrite));
  }</span>

  @Override
  public int hashCode() {
    return Objects.hashCode(<span class="marker" id="mapping-28"></span><span class="token upd" id="move-src-18" data-title="MethodInvocation/SimpleName">expi<span class="cupd">r</span>eAf<span class="cupd">t</span>erAccessMillis</span>, <span class="marker" id="mapping-29"></span><span class="token upd" id="move-src-19" data-title="MethodInvocation/SimpleName">exp<span class="cupd">i</span>reAfterWriteMillis</span>);
  }

  @Override
  public boolean equals(Object o) {
    if (o instanceof <span class="marker" id="mapping-30"></span><span class="token upd" id="move-src-20" data-title="InstanceofExpression/SimpleType"><span class="marker" id="mapping-31"></span><span class="token upd" id="move-src-21" data-title="SimpleType/SimpleName">Expi<span class="cupd"><span class="cupd">rationSpec</span></span></span></span>) {
      <span class="marker" id="mapping-32"></span><span class="token upd" id="move-src-22" data-title="VariableDeclarationStatement/SimpleType"><span class="marker" id="mapping-33"></span><span class="token upd" id="move-src-23" data-title="SimpleType/SimpleName">Expi<span class="cupd"><span class="cupd">rationSpec</span></span></span></span> that = (<span class="marker" id="mapping-34"></span><span class="token upd" id="move-src-24" data-title="CastExpression/SimpleType"><span class="marker" id="mapping-35"></span><span class="token upd" id="move-src-25" data-title="SimpleType/SimpleName">Expi<span class="cupd"><span class="cupd">rationSpec</span></span></span></span>) o;
      return <span class="marker" id="mapping-36"></span><span class="token upd" id="move-src-26" data-title="ReturnStatement/InfixExpression"><span class="marker" id="mapping-37"></span><span class="token upd" id="move-src-27" data-title="MethodInvocation/SimpleName">Objects</span>.<span class="marker" id="mapping-38"></span><span class="token upd" id="move-src-28" data-title="MethodInvocation/SimpleName">equal</span>(<span class="marker" id="mapping-39"></span><span class="token del" data-title="MethodInvocation/FieldAccess">this.expireAfterAccessMillis</span>, <span class="marker" id="mapping-40"></span><span class="token del" data-title="MethodInvocation/QualifiedName">that.expireAfterAccessMillis</span>)
          &amp;&amp; <span class="marker" id="mapping-41"></span><span class="token upd" id="move-src-29" data-title="MethodInvocation/SimpleName">Objec<span class="cupd">t</span>s</span>.<span class="marker" id="mapping-42"></span><span class="token del" data-title="MethodInvocation/SimpleName">equal</span>(<span class="marker" id="mapping-43"></span><span class="token del" data-title="MethodInvocation/FieldAccess">this.expireAfterWriteMillis</span>, <span class="marker" id="mapping-44"></span><span class="token upd" id="move-src-30" data-title="MethodInvocation/QualifiedName"><span class="cupd">that.</span>expi<span class="cupd">r</span>eAf<span class="cupd">t</span>erWriteMillis</span>)</span>;
    }
    return false;
  }

  @Override
  public String toString() {
    return Objects.toStringHelper(this)
        .add(<span class="marker" id="mapping-45"></span><span class="token upd" id="move-src-31" data-title="MethodInvocation/StringLiteral"><span class="cupd">"</span>expi<span class="cupd">r</span>eAf<span class="cupd">t</span>erAccessM<span class="cupd">i</span>llis"</span>, <span class="marker" id="mapping-46"></span><span class="token upd" id="move-src-32" data-title="MethodInvocation/SimpleName">expi<span class="cupd">r</span>eAf<span class="cupd">t</span>erAccessMillis</span>)
        .add(<span class="marker" id="mapping-47"></span><span class="token upd" id="move-src-33" data-title="MethodInvocation/StringLiteral"><span class="cupd">"</span>exp<span class="cupd">i</span>reAf<span class="cupd">t</span>erWriteMillis"</span>, <span class="marker" id="mapping-48"></span><span class="token upd" id="move-src-34" data-title="MethodInvocation/SimpleName">exp<span class="cupd">i</span>reAfterWriteMillis</span>)
        .toString();
  }
}
</pre></div><div class="col-lg-6 max-height"><h5>modified.java</h5><pre class="pre max-height">static class <span class="marker" id="mapping-49"></span><span class="token upd" id="move-dst-1" data-title="TypeDeclaration/SimpleName">Du<span class="cupd">rationSpec</span></span> {
  private final <span class="marker" id="mapping-50"></span><span class="token add" data-title="FieldDeclaration/PrimitiveType">long</span> <span class="marker" id="mapping-51"></span><span class="token upd" id="move-dst-2" data-title="VariableDeclarationFragment/SimpleName">du<span class="cupd">r</span>a<span class="cupd">t</span>ion</span>;
  private final <span class="marker" id="mapping-52"></span><span class="token upd" id="move-dst-3" data-title="FieldDeclaration/SimpleType"><span class="marker" id="mapping-53"></span><span class="token upd" id="move-dst-4" data-title="SimpleType/SimpleName">TimeUnit</span></span> <span class="marker" id="mapping-54"></span><span class="token upd" id="move-dst-5" data-title="VariableDeclarationFragment/SimpleName">un<span class="cupd">i</span>t</span>;

  private <span class="marker" id="mapping-55"></span><span class="token upd" id="move-dst-6" data-title="MethodDeclaration/SimpleName">Du<span class="cupd">rationSpec</span></span>(<span class="marker" id="mapping-56"></span><span class="token add" data-title="SingleVariableDeclaration/PrimitiveType">long</span> <span class="marker" id="mapping-57"></span><span class="token add" data-title="SingleVariableDeclaration/SimpleName">duration</span>, <span class="marker" id="mapping-58"></span><span class="token mv" id="move-dst-17" data-title="MethodDeclaration/SingleVariableDeclaration">TimeUnit unit</span>) {
    this.<span class="marker" id="mapping-59"></span><span class="token upd" id="move-dst-7" data-title="FieldAccess/SimpleName">du<span class="cupd">r</span>a<span class="cupd">t</span>ion</span> = <span class="marker" id="mapping-60"></span><span class="token upd" id="move-dst-8" data-title="Assignment/SimpleName">du<span class="cupd">r</span>a<span class="cupd">t</span>ion</span>;
    this.<span class="marker" id="mapping-61"></span><span class="token upd" id="move-dst-9" data-title="FieldAccess/SimpleName">un<span class="cupd">i</span>t</span> = <span class="marker" id="mapping-62"></span><span class="token upd" id="move-dst-10" data-title="Assignment/SimpleName">un<span class="cupd">i</span>t</span>;
  }

  public static <span class="marker" id="mapping-63"></span><span class="token upd" id="move-dst-11" data-title="MethodDeclaration/SimpleType"><span class="marker" id="mapping-64"></span><span class="token upd" id="move-dst-12" data-title="SimpleType/SimpleName">Du<span class="cupd"><span class="cupd">rationSpec</span></span></span></span> <span class="marker" id="mapping-65"></span><span class="token upd" id="move-dst-13" data-title="MethodDeclaration/SimpleName">of</span>(long <span class="marker" id="mapping-66"></span><span class="token upd" id="move-dst-14" data-title="SingleVariableDeclaration/SimpleName">dur<span class="cupd">a</span>tion</span>, TimeUnit unit) {
    return new <span class="marker" id="mapping-67"></span><span class="token upd" id="move-dst-15" data-title="ClassInstanceCreation/SimpleType"><span class="marker" id="mapping-68"></span><span class="token upd" id="move-dst-16" data-title="SimpleType/SimpleName">Du<span class="cupd"><span class="cupd">rationSpec</span></span></span></span>(<span class="marker" id="mapping-69"></span><span class="token add" data-title="ClassInstanceCreation/SimpleName">duration</span>, <span class="marker" id="mapping-70"></span><span class="token add" data-title="ClassInstanceCreation/SimpleName">unit</span>);
  }

  @Override
  public int hashCode() {
    return Objects.hashCode(<span class="marker" id="mapping-71"></span><span class="token upd" id="move-dst-18" data-title="MethodInvocation/SimpleName">du<span class="cupd">r</span>a<span class="cupd">t</span>ion</span>, <span class="marker" id="mapping-72"></span><span class="token upd" id="move-dst-19" data-title="MethodInvocation/SimpleName">un<span class="cupd">i</span>t</span>);
  }

  @Override
  public boolean equals(Object o) {
    if (o instanceof <span class="marker" id="mapping-73"></span><span class="token upd" id="move-dst-20" data-title="InstanceofExpression/SimpleType"><span class="marker" id="mapping-74"></span><span class="token upd" id="move-dst-21" data-title="SimpleType/SimpleName">Du<span class="cupd"><span class="cupd">rationSpec</span></span></span></span>) {
      <span class="marker" id="mapping-75"></span><span class="token upd" id="move-dst-22" data-title="VariableDeclarationStatement/SimpleType"><span class="marker" id="mapping-76"></span><span class="token upd" id="move-dst-23" data-title="SimpleType/SimpleName">Du<span class="cupd"><span class="cupd">rationSpec</span></span></span></span> that = (<span class="marker" id="mapping-77"></span><span class="token upd" id="move-dst-24" data-title="CastExpression/SimpleType"><span class="marker" id="mapping-78"></span><span class="token upd" id="move-dst-25" data-title="SimpleType/SimpleName">Du<span class="cupd"><span class="cupd">rationSpec</span></span></span></span>) o;
      return <span class="marker" id="mapping-79"></span><span class="token upd" id="move-dst-26" data-title="ReturnStatement/InfixExpression"><span class="marker" id="mapping-80"></span><span class="token upd" id="move-dst-27" data-title="MethodInvocation/SimpleName">unit</span>.<span class="marker" id="mapping-81"></span><span class="token upd" id="move-dst-28" data-title="MethodInvocation/SimpleName">toNanos</span>(<span class="marker" id="mapping-82"></span><span class="token add" data-title="MethodInvocation/SimpleName">duration</span>) == <span class="marker" id="mapping-83"></span><span class="token add" data-title="MethodInvocation/QualifiedName">that.unit</span>.<span class="marker" id="mapping-84"></span><span class="token upd" id="move-dst-29" data-title="MethodInvocation/SimpleName"><span class="cupd">t</span>oNanos</span>(<span class="marker" id="mapping-85"></span><span class="token upd" id="move-dst-30" data-title="MethodInvocation/QualifiedName"><span class="cupd">that.</span>du<span class="cupd">r</span>a<span class="cupd">t</span>ion</span>)</span>;
    }
    return false;
  }

  @Override
  public String toString() {
    return Objects.toStringHelper(this)
        .add(<span class="marker" id="mapping-86"></span><span class="token upd" id="move-dst-31" data-title="MethodInvocation/StringLiteral"><span class="cupd">"</span>du<span class="cupd">r</span>a<span class="cupd">t</span><span class="cupd">i</span>on"</span>, <span class="marker" id="mapping-87"></span><span class="token upd" id="move-dst-32" data-title="MethodInvocation/SimpleName">du<span class="cupd">r</span>a<span class="cupd">t</span>ion</span>)
        .add(<span class="marker" id="mapping-88"></span><span class="token upd" id="move-dst-33" data-title="MethodInvocation/StringLiteral"><span class="cupd">"</span>un<span class="cupd">i</span><span class="cupd">t</span>"</span>, <span class="marker" id="mapping-89"></span><span class="token upd" id="move-dst-34" data-title="MethodInvocation/SimpleName">un<span class="cupd">i</span>t</span>)
        .toString();
  }
}
</pre></div></div></div><script type="text/javascript" src="res/web/jquery.min.js"></script><script type="text/javascript" src="res/web/bootstrap.min.js"></script><script type="text/javascript" src="res/web/diff.js"></script></body></html>