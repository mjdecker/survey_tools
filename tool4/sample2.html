<!DOCTYPE html><html lang="en"><head><meta charset="utf8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tool4</title><link type="text/css" href="res/web/bootstrap.min.css" rel="stylesheet"/><link type="text/css" href="res/web/gumtree.css" rel="stylesheet"/></head><body><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="btn-toolbar pull-right"><div class="btn-group"><a class="btn btn-default btn-xs" id="legend" href="#" data-toggle="popover" data-html="true" data-placement="bottom" data-content="<span class=&quot;del&quot;>&nbsp;&nbsp;</span> deleted<br><span class=&quot;add&quot;>&nbsp;&nbsp;</span> added<br><span class=&quot;mv&quot;>&nbsp;&nbsp;</span> moved<br><span class=&quot;upd&quot;>&nbsp;&nbsp;</span> updated<br>" data-original-title="Legend" title="Legend" role="button">Legend</a><a class="btn btn-default btn-xs" id="shortcuts" href="#" data-toggle="popover" data-html="true" data-placement="bottom" data-content="<b>q</b> quit<br><b>l</b> list<br><b>n</b> next<br><b>t</b> top<br><b>b</b> bottom" data-original-title="Shortcuts" title="Shortcuts" role="button">Shortcuts</a></div><div class="btn-group"><a class="btn btn-default btn-xs btn-danger" href="/quit">Quit</a></div></div></div></div><div class="row"><div class="col-lg-6 max-height"><h5>original.java</h5><pre class="pre max-height">public Field getCompletionField(ContextMapping.Context ctx,
                                String input, BytesRef payload) {
    final String originalInput = input;
    if (input.length() &gt; maxInputLength) {
        final int len = correctSubStringLen(input, 
            Math.min(maxInputLength, input.length()));
        input = input.substring(0, len);
    }
    for (int i = 0; i &lt; input.length(); i++) {
        if (isReservedChar(input.charAt(i))) {
            throw new IllegalArgumentException("Illegal input ["
                    + originalInput + "] UTF-16 codepoint  [0x"
                    + Integer.toHexString((int) input.charAt(i))
                        .toUpperCase(Locale.ROOT)
                    + "] at position " + i + " is a reserved character");
        }
    }
    return new SuggestField(<span class="marker" id="mapping-1"></span><span class="token mv" id="move-src-1" data-title="MethodInvocation/SimpleName">fieldType</span>.names().indexName(),
        ctx, input, <span class="marker" id="mapping-2"></span><span class="token del" data-title="ClassInstanceCreation/FieldAccess">this.fieldType</span>, payload,
        fieldType().analyzingSuggestLookupProvider);
}</pre></div><div class="col-lg-6 max-height"><h5>modified.java</h5><pre class="pre max-height">public Field getCompletionField(ContextMapping.Context ctx,
                                String input, BytesRef payload) {
    final String originalInput = input;
    if (input.length() &gt; maxInputLength) {
        final int len = correctSubStringLen(input,
            Math.min(maxInputLength, input.length()));
        input = input.substring(0, len);
    }
    for (int i = 0; i &lt; input.length(); i++) {
        if (isReservedChar(input.charAt(i))) {
            throw new IllegalArgumentException("Illegal input ["
                    + originalInput + "] UTF-16 codepoint  [0x"
                    + Integer.toHexString((int) input.charAt(i))
                        .toUpperCase(Locale.ROOT)
                    + "] at position " + i + " is a reserved character");
        }
    }
    return new SuggestField(<span class="marker" id="mapping-3"></span><span class="token add" data-title="MethodInvocation/MethodInvocation"><span class="marker" id="mapping-4"></span><span class="token mv" id="move-dst-1" data-title="MethodInvocation/SimpleName">fieldType</span>()</span>.names().indexName(),
        ctx, input, <span class="marker" id="mapping-5"></span><span class="token add" data-title="ClassInstanceCreation/MethodInvocation">fieldType()</span>, payload,
        fieldType().analyzingSuggestLookupProvider);
}</pre></div></div></div><script type="text/javascript" src="res/web/jquery.min.js"></script><script type="text/javascript" src="res/web/bootstrap.min.js"></script><script type="text/javascript" src="res/web/diff.js"></script></body></html>